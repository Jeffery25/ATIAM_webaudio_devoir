<!DOCTYPE html>
<html>
    <head>
        <title>Beat Maker</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="stylesheet" href="files/style.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.76/Tone.js"></script>

        <link href="https://fonts.googleapis.com/css?family=Material+Icons&display=block" rel="stylesheet"/>
        <script src="./files/from_tonejs/tone-ui.js"></script>
        <script src="./files/from_tonejs/components.js"></script>
    </head>

    <body>
        <header>
            <h1>Beat Maker</h1>
            <p>
                Lorem ipsum dolor sit amet consectetur adipiscing elit sed do
                eiusm
            </p>
        </header>

        <canvas id="canvas" width="512" height="256"></canvas>

        <section id="controls">
            <button type="button" id="player">Play</button>
            <br />
            <input
                type="range"
                id="volume"
                list="volume-vals"
                min="-30"
                max="-10"
                value="-20"
                step="0.05"
            />
            <datalist id="volume-vals">
                <option value="0" label="min"></option>
                <option value="2" label="max"></option>
            </datalist>

            <br />
            <input
                type="range"
                id="pitch-all"
                list="pitch-all-vals"
                min="0"
                max="1"
                value="0.5"
                step="0.01"
            />
            <datalist id="pitch-all-vals">
                <option value="0" label="min"></option>
                <option value="2" label="max"></option>
            </datalist>

            <br />
            <input
                type="range"
                id="pitch"
                list="pitch-vals"
                min="1"
                max="1.05"
                value="1"
                step="0.0005"
            />
            <datalist id="pitch-vals">
                <option value="0" label="unison"></option>
                <option value="1" label="fifth"></option>
            </datalist>

            <br />
            <input
                type="range"
                id="space"
                list="space-vals"
                min="0"
                max="1"
                value="0"
                step="0.01"
            />
            <datalist id="space-vals">
                <option value="0" label="merge"></option>
                <option value="1" label="split"></option>
            </datalist>

        </section>

        <div id="content">
            <tone-play-toggle></tone-play-toggle>
            <tone-slider id="modulate" label="Modulation Rate" min="0" max="1" exp="2" value="0.5"></tone-slider>
        </div>

        <script>
            // player button 
            const player = document.getElementById("player");
            player.addEventListener("click", updatePlayer);
            const osc = new Tone.Oscillator(440, "sine").toDestination()
            function updatePlayer() {
                if (player.textContent === "Play") {
                    player.textContent = "Stop";
                    osc.start();
                } else {
                    player.textContent = "Play"
                    osc.stop();
                }
            }

            // volume control
        </script>

        <script src="files/modulator.js"></script>

    </body>
</html>
